### essential assignments ###
font pango:DejaVu Sans Mono for Powerline, FontAwesome 10
set $mod Mod4
floating_modifier $mod

### global hotkeys ###
bindsym $mod+Return         exec --no-startup-id urxvt
bindsym $mod+Shift+Return   exec --no-startup-id "urxvt -T floatingterm"
bindsym $mod+d              exec --no-startup-id i3-dmenu-desktop
bindsym F1                  nop		# unbind F1 because it's useless
bindsym $mod+F1             exec lxappearance
bindsym $mod+Shift+C        reload
bindsym $mod+Shift+R        restart
bindsym $mod+q              kill


### Colors ###
exec --no-startup-id xrdb ~/.Xresources     # make sure ressources are loaded
set $darkblack      #1b1918
set $black          #766e6b
set $darkred        #f22c40
set $red            #f22c40
set $darkgreen      #5ab738
set $green          #5ab738
set $darkyellow     #d5911a
set $yellow         #d5911a
set $darkblue       #407ee7
set $blue           #407ee7
set $darkmagenta    #6666ea
set $magenta        #6666ea
set $darkcyan       #00ad9c
set $cyan           #00ad9c
set $darkwhite      #a8a19f
set $white          #a8a19f
set $brightwhite    #E6E5CA
set $darkgrey       #2F3032
set $transparent    #00000000

client.background       $black
client.focused          $red            $red        $magenta    $darkmagenta    $darkblue
client.unfocused        $transparent    $blue       $white      $darkblue       $darkblack
client.focused_inactive $transparent    $blue       $white      $darkblue       $darkblack
client.urgent           $darkred        $darkred    $black      $darkred        $darkred


### status bar ###
bar {
        status_command              i3blocks -c ~/.config/i3/i3blocks.conf
        position                    top
        mode                        dock
        strip_workspace_numbers     yes
        tray_output		            primary
        height                      25
        font                        pango: xos4 Terminess Powerline, FontAwesome 9
        separator_symbol            "::"
        colors {
            background              $darkblack
            separator               $darkred
            statusline              $brightwhite

            # Indicators                border        backgr        text
            focused_workspace       $transparent    $blue       $brightwhite
            inactive_workspace      $transparent    $darkgrey   $brightwhite
            urgent_workspace        $transparent    $darkred    $brightwhite
       }
}


### resize windows ###
# hint: you can also use the mouse for that
mode "resize" {
        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym Left resize shrink width 5 px or 5 ppt
        bindsym Down resize grow height 5 px or 5 ppt
        bindsym Up resize shrink height 5 px or 5 ppt
        bindsym Right resize grow width 5 px or 5 ppt

        # back to normal: Enter or Escape
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"


### configure workspaces ###
set $workspace1   "1:"
set $workspace2   "2:"
set $workspace3   "3:"
set $workspace4   "4:"
set $workspace5   "5:"
set $workspace6   "6:"
set $workspace7   "7:"
set $workspace8   "8:"
set $workspace9   "9:"
set $workspace10   "10:"


### switch to workspace ###
bindsym $mod+1 workspace $workspace1
bindsym $mod+2 workspace $workspace2
bindsym $mod+3 workspace $workspace3
bindsym $mod+4 workspace $workspace4
bindsym $mod+5 workspace $workspace5
bindsym $mod+6 workspace $workspace6
bindsym $mod+7 workspace $workspace7
bindsym $mod+8 workspace $workspace8
bindsym $mod+9 workspace $workspace9
bindsym $mod+0 workspace $workspace10
bindsym $mod+Tab workspace next
bindsym $mod+Shift+Tab workspace prev


### move focused container to workspace ###
bindsym $mod+Shift+1 move container to workspace $workspace1
bindsym $mod+Shift+2 move container to workspace $workspace2
bindsym $mod+Shift+3 move container to workspace $workspace3
bindsym $mod+Shift+4 move container to workspace $workspace4
bindsym $mod+Shift+5 move container to workspace $workspace5
bindsym $mod+Shift+6 move container to workspace $workspace6
bindsym $mod+Shift+7 move container to workspace $workspace7
bindsym $mod+Shift+8 move container to workspace $workspace8
bindsym $mod+Shift+9 move container to workspace $workspace9
bindsym $mod+Shift+0 move container to workspace $workspace10


### throw to workspace and follow ###
bindsym mod1+Shift+1 move container to workspace $workspace1
bindsym mod1+Shift+2 move container to workspace $workspace2
bindsym mod1+Shift+3 move container to workspace $workspace3
bindsym mod1+Shift+4 move container to workspace $workspace4
bindsym mod1+Shift+5 move container to workspace $workspace5
bindsym mod1+Shift+6 move container to workspace $workspace6
bindsym mod1+Shift+7 move container to workspace $workspace7
bindsym mod1+Shift+8 move container to workspace $workspace8
bindsym mod1+Shift+9 move container to workspace $workspace9
bindsym mod1+Shift+0 move container to workspace $workspace10


### focus windows ###
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right


### move windows ###
bindsym $mod+shift+Left move left
bindsym $mod+shift+Down move down
bindsym $mod+shift+Up move up
bindsym $mod+shift+Right move right


### window manipulations ###
bindsym $mod+space focus mode_toggle
bindsym $mod+shift+space floating toggle
bindsym $mod+a focus parent
bindsym $mod+e layout toggle split
bindsym $mod+w layout tabbed
#bindsym $mod+s layout stacking
bindsym $mod+h split h
bindsym $mod+v split v
bindsym $mod+f fullscreen


### program hotkeys ###
bindsym $mod+y exec qutebrowser
bindsym $mod+z exec qutebrowser
bindsym $mod+x exec firefox
bindsym $mod+c exec spotify
bindsym $mod+n exec pcmanfm
bindsym $mod+F5 exec urxvt -e ncmpcpp
bindsym $mod+F6 exec clementine
bindsym $mod+F7 exec thunderbird


### language control ###
exec --no-startup-id setxkbmap us
#bindsym $mod+Shift+U exec --no-startup-id setxkbmap us
#bindsym $mod+Shift+D exec --no-startup-id setxkbmap de


### locking ###
set $Locker lock
bindsym $mod+l exec --no-startup-id $Locker
exec_always --no-startup-id xautolock -detectsleep -time 5 -locker "$locker" -killtime 15 -killer "systemctl suspend"
exec --no-startup-id xss-lock -- "$Locker"


### sreen brightness controls ###
bindsym XF86MonBrightnessUp exec light -A 5
bindsym XF86MonBrightnessDown exec light -U 5


### keyboard backlight control ###
bindsym XF86KbdBrightnessUp exec light -A 50 -k
bindsym XF86KbdBrightnessDown exec light -U 50 -k
#bindsym XF86KbdBrightnessUp exec /usr/local/bin/kb-light.py + 1
#bindsym XF86KbdBrightnessDown exec /usr/local/bin/kb-light.py - 1


### touchpad controls ###
exec settouchpadsettings
bindsym XF86TouchpadToggle exec toggletouchpad


### Media player controls ###
# keyboard arrows + alt for spotify and clementine
bindsym mod1+Shift+Down   exec playerctl play-pause
bindsym mod1+Shift+Up     exec playerctl stop
bindsym mod1+Shift+Left   exec playerctl previous
bindsym mod1+Shift+Right  exec playerctl next

# keyboard buttons + mod for mpc
bindsym $mod+P exec mpc toggle
bindsym $mod+S exec mpc stop
bindsym $mod+less exec mpc prev
bindsym $mod+greater exec mpc next

# multimedia keys do both always
bindsym XF86AudioPlay exec "mpc toggle && playerctl play-pause"
bindsym XF86AudioStop exec "mpc stop && playerctl stop"
bindsym XF86AudioPrev exec "mpc prev && playerctl previous"
bindsym XF86AudioNext exec "mpc next && playerctl next


### audio volume control ###
bindsym XF86AudioLowerVolume    exec --no-startup-id lmc down 5
bindsym XF86AudioRaiseVolume    exec --no-startup-id lmc up 5
bindsym XF86AudioMute           exec --no-startup-id lmc mute
bindsym $mod+equal              exec --no-startup-id lmc up 5
bindsym $mod+minus              exec --no-startup-id lmc down 5
bindsym $mod+M                  exec --no-startup-id lmc mute


### autostart ###
exec --no-startup-id compton --xrender-sync-fence
exec --no-startup-id mpd
exec --no-startup-id dmenu --daemon
# exec --no-startup-id xcompmgr -c -f -n 
exec --no-startup-id megasync
exec --no-startup-id keepassxc
exec --no-startup-id redshift
# exec --no-startup-id /usr/lib/notification-daemon-1.0/notification-daemon
exec --no-startup-id unclutter
exec --no-startup-id nm-applet
exec --no-startup-id xfce4-power-manager
exec --no-startup-id ibus-daemon -drx

### autorun scripts ###
exec --no-startup-id lightsOn.sh
exec --no-startup-id automount
exec_always --no-startup-id wallpaper


### preconfigured application settings ####
for_window [window_role="GtkFileChooserDialog"] resize shrink height 10 px; move position center
for_window [class="qutebrowser"] move workspace $workspace2; workspace $workspace2
for_window [class="Firefox"] move workspace $workspace2; workspace $workspace2
for_window [class="Sublime_text"] move workspace $workspace3; workspace $workspace3
for_window [class="Spotify"] move workspace $workspace4; workspace $workspace4
for_window [class="Clementine"] move workspace $workspace4; workspace $workspace4
for_window [title="ncmpcpp"] floating enable
for_window [class="Pcmanfm"] move workspace $workspace5; workspace $workspace5
for_window [class="Lxappearance"] floating enable
for_window [class="chromium"] enable border pixel 1
for_window [class="URxvt"] border pixel 4
for_window [class="Vlc"] floating enable border pixel 4
for_window [title="floatingterm"] floating enable

### i3-gaps stuff ###
#smart_gaps on
smart_borders on

# Set borders
new_window normal 0 px
new_float normal 0 px
for_window [class="^.*"] border pixel 3

# Set inner/outer gaps
gaps inner 20
gaps outer 0

# Change gaps mode
set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer Gaps: +|-|0 (local), Shift + +|-|0 (global)
set $mode_gaps_inner Inner Gaps: +|-|0 (local), Shift + +|-|0 (global)
mode "$mode_gaps" {
        bindsym o      mode "$mode_gaps_outer"
        bindsym i      mode "$mode_gaps_inner"
        bindsym Return mode "default"
        bindsym Escape mode "default"
}
bindsym $mod+Shift+g mode "$mode_gaps"

mode "$mode_gaps_inner" {
        bindsym plus  gaps inner current plus 5
        bindsym minus gaps inner current minus 5
        bindsym 0     gaps inner current set 0

        bindsym Shift+plus  gaps inner all plus 5
        bindsym Shift+minus gaps inner all minus 5
        bindsym Shift+0     gaps inner all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
        bindsym plus  gaps outer current plus 5
        bindsym minus gaps outer current minus 5
        bindsym 0     gaps outer current set 0

        bindsym Shift+plus  gaps outer all plus 5
        bindsym Shift+minus gaps outer all minus 5
        bindsym Shift+0     gaps outer all set 0

        bindsym Return mode "default"
        bindsym Escape mode "default"
